"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react"),n=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,r=require("path-to-regexp");function a(){return(a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var o={isMatch:function(t,e){var n=r.match(t,{decode:decodeURIComponent})(e);return n?n.params:null},parseQuery:function(t){if(void 0===t&&(t=window.location.search),!t)return{};for(var e=t.substring(1).split("&"),n={},r=0;r<e.length;r++){var a=e[r].split("=");n[a[0]]=a[1],n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return n}},i=new Map,s=function(){var t=!1,e=[];i.forEach((function(n,r){if(n.params&&(i.set(r,a({},n,{params:null})),n.dispatch()),n.path){var s=o.isMatch(n.path,window.location.pathname);s&&(t=!0,i.set(r,a({},n,{params:s})),n.dispatch())}else e.push(n)})),!t&&e.forEach((function(t){i.set(t.id,a({},t,{params:{}})),t.dispatch()}))};window.addEventListener("popstate",(function(){return s()}));var u={go:function(t){window.history.pushState({pagex:!0,path:t},"",t),dispatchEvent(new PopStateEvent("popstate",{state:{pagex:!0,path:t}}))},reload:function(){dispatchEvent(new PopStateEvent("popstate",{state:{path:window.location.pathname,pagex:!0}}))},back:function(){return window.history.back()},forward:function(){return window.history.forward()}},c=function(t){var n=e.useId(),r=e.useState(0)[1];e.useMemo((function(){var e=null;t&&(e=o.isMatch(t,window.location.pathname)),i.set(n,{id:n,params:e,dispatch:function(){},path:t})}),[]),e.useEffect((function(){return i.set(n,a({},i.get(n),{dispatch:function(){return r(Math.random())}})),function(){i.delete(n)}}),[]);var s=i.get(n);return null==s?void 0:s.params},p=o.parseQuery;exports.Link=function(t){var n=t.href,r=t.children,o=t.label;return e.createElement(t.component||"a",a({},!1!==t.noHref?{href:n}:{},{onClick:function(t){t.preventDefault(),u.go(n)}}),r||o)},exports.Parser=o,exports.Route=function(t){var e=t.render,r=c(t.path);return r?n.createElement(e,{params:r}):n.createElement(n.Fragment,null)},exports.RouteProvider=function(t){var n=t.children;return e.useEffect((function(){s()}),[]),n},exports.Router=u,exports.useMatch=c,exports.useQuery=p;
//# sourceMappingURL=react-pagex.cjs.production.min.js.map
